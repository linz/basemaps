import { TileMatrixSetType } from '@basemaps/geo';
import { AltTileMatrixSet } from './alt.tms';

const AgolTmst: TileMatrixSetType = {
    type: 'TileMatrixSetType',
    title: 'LINZ NZTM2000 Map Tile Grid',
    abstract:
        'See https://www.linz.govt.nz/data/linz-data-service/guides-and-documentation/nztm2000-map-tile-service-schema',
    identifier: 'NZTM2000',
    supportedCRS: 'https://www.opengis.net/def/crs/EPSG/0/2193',
    boundingBox: {
        type: 'BoundingBoxType',
        crs: 'https://www.opengis.net/def/crs/EPSG/0/2193',
        lowerCorner: [3298950.066042575, -1910321.7309136656],
        upperCorner: [7011590.824657426, 4922291.934313666],
    },
    tileMatrix: [
        {
            type: 'TileMatrixType',
            identifier: '0',
            scaleDenominator: 5.590822640285016e8,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 1,
            matrixHeight: 1,
        },
        {
            type: 'TileMatrixType',
            identifier: '1',
            scaleDenominator: 2.7954113201425034e8,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 1,
            matrixHeight: 1,
        },
        {
            type: 'TileMatrixType',
            identifier: '2',
            scaleDenominator: 1.3977056600712562e8,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 1,
            matrixHeight: 2,
        },
        {
            type: 'TileMatrixType',
            identifier: '3',
            scaleDenominator: 6.988528300356235e7,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 2,
            matrixHeight: 4,
        },
        {
            type: 'TileMatrixType',
            identifier: '4',
            scaleDenominator: 3.494264150178117e7,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 4,
            matrixHeight: 7,
        },
        {
            type: 'TileMatrixType',
            identifier: '5',
            scaleDenominator: 1.7471320750890587e7,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 8,
            matrixHeight: 14,
        },
        {
            type: 'TileMatrixType',
            identifier: '6',
            scaleDenominator: 8735660.375445293,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 15,
            matrixHeight: 27,
        },
        {
            type: 'TileMatrixType',
            identifier: '7',
            scaleDenominator: 4367830.187722647,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 29,
            matrixHeight: 54,
        },
        {
            type: 'TileMatrixType',
            identifier: '8',
            scaleDenominator: 2183915.0938617955,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 58,
            matrixHeight: 107,
        },
        {
            type: 'TileMatrixType',
            identifier: '9',
            scaleDenominator: 1091957.5469304253,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 115,
            matrixHeight: 214,
        },
        {
            type: 'TileMatrixType',
            identifier: '10',
            scaleDenominator: 545978.7734656851,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 229,
            matrixHeight: 427,
        },
        {
            type: 'TileMatrixType',
            identifier: '11',
            scaleDenominator: 272989.38673237007,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 458,
            matrixHeight: 854,
        },
        {
            type: 'TileMatrixType',
            identifier: '12',
            scaleDenominator: 136494.69336618503,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 915,
            matrixHeight: 1707,
        },
        {
            type: 'TileMatrixType',
            identifier: '13',
            scaleDenominator: 68247.34668309252,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 1829,
            matrixHeight: 3414,
        },
        {
            type: 'TileMatrixType',
            identifier: '14',
            scaleDenominator: 34123.67334154626,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 3657,
            matrixHeight: 6828,
        },
        {
            type: 'TileMatrixType',
            identifier: '15',
            scaleDenominator: 17061.836671245605,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 7313,
            matrixHeight: 13655,
        },
        {
            type: 'TileMatrixType',
            identifier: '16',
            scaleDenominator: 8530.918335622802,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 14626,
            matrixHeight: 27309,
        },
        {
            type: 'TileMatrixType',
            identifier: '17',
            scaleDenominator: 4265.459167338929,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 29251,
            matrixHeight: 54618,
        },
        {
            type: 'TileMatrixType',
            identifier: '18',
            scaleDenominator: 2132.729584141936,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 58501,
            matrixHeight: 109235,
        },
        {
            type: 'TileMatrixType',
            identifier: '19',
            scaleDenominator: 1066.3647915984968,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 117001,
            matrixHeight: 218470,
        },
        {
            type: 'TileMatrixType',
            identifier: '20',
            scaleDenominator: 533.1823957992484,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 234002,
            matrixHeight: 436939,
        },
        {
            type: 'TileMatrixType',
            identifier: '21',
            scaleDenominator: 266.5911978996242,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 468004,
            matrixHeight: 873878,
        },
        {
            type: 'TileMatrixType',
            identifier: '22',
            scaleDenominator: 133.2955989498121,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 936007,
            matrixHeight: 1747756,
        },
        {
            type: 'TileMatrixType',
            identifier: '23',
            scaleDenominator: 66.64779947490605,
            topLeftCorner: [1.99981e7, -4020900.0],
            tileWidth: 256,
            tileHeight: 256,
            matrixWidth: 1872013,
            matrixHeight: 3495511,
        },
    ],
};

const AgolConversionFactor = 16 / 23;

/**
 * This is an alternative TileMatrixSet for NZTM2000 that is used by Esri™ and ArcGIS™ Online for
 * New zealand basemaps. It is not officially supported by LINZ
 */
export const Nztm2000AgolTms = new AltTileMatrixSet(AgolTmst, 'agol', (z) => Math.round(z * AgolConversionFactor));
