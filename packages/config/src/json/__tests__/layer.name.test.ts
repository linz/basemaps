import o from 'ospec';
import { standardizeLayerName } from '../name.convertor.js';

// List of layers used by basemaps
export const layers = [
  'antipodes-islands_satellite_2019-2020_0-5m_RGB',
  'ashburton_urban_2020_0-075m_RGB',
  'auckland-islands_satellite_2014-2021_0-5m_RGB',
  'auckland_rural_2010-2012_0-50m_RGBA',
  'auckland_rural_2020_0-075m_RGB',
  'auckland_rural_2022_0-075m_RGB',
  'auckland_urban_2017_0-075m',
  'banks-peninsula_urban_2019-2020_0-075m_RGB',
  'bay-of-plenty_rural_2011-2012_0-25m_RGBA',
  'bay-of-plenty_rural_2015-17_0-25m',
  'bay-of-plenty_rural_2016-17_0-3m',
  'bay-of-plenty_rural_2019_0-3m',
  'bay-of-plenty_rural_2021_0-2m_RGB',
  'bay-of-plenty_urban_2014-15_0-125m',
  'bay-of-plenty_urban_2015-16_0-125m',
  'bay-of-plenty_urban_2015-16_0-1m',
  'bay-of-plenty_urban_2018-19_0-1m',
  'bay-of-plenty_urban_2018-19_0-1m',
  'bay-of-plenty_urban_2020_0-1m_RGB',
  'bounty-islands_satellite_2020_0-5m_RGB',
  'campbell-island-motu-ihupuku_satellite_2015-2020_0-5m_RGB',
  'canterbury-mackenzie_rural_2021_0-3m_RGB',
  'canterbury-waitaki_rural_2021_0-3m_RGB',
  'canterbury_rural_2012-2013_0-40m_RGBA',
  'canterbury_rural_2013-2014_0-40m_RGBA',
  'canterbury_rural_2014-2015_0-30m_RGBA',
  'canterbury_rural_2015-2016_0-30m_RGBA',
  'canterbury_rural_2016-18_0-3m',
  'canterbury_rural_2019_0-3m_RGB',
  'canterbury_rural_2020-2021_0-2m_RGB',
  'canterbury_rural_2020_0-3m_RGB',
  'carterton_urban_2021_0-075m_RGB',
  'central-hawkes-bay_urban_2017-18_0-1m',
  'chatham-islands_digital-globe_2014-2019_0-5m',
  'chatham-islands_digital-globe_2014-2019_0-5m',
  'christchurch_urban_2015-2016_0-075m_RGBA',
  'christchurch_urban_2018-2019_0-075m_RGB',
  'christchurch_urban_2018_0-075m',
  'christchurch_urban_2020-2021_0-075m_RGB',
  'christchurch_urban_2021_0-05m_RGB',
  'dunedin_rural_2013_0-40m_RGBA',
  'dunedin_urban_2018-19_0-1m',
  'gebco_2020_305-75m',
  'geographx_nz_dem_2012_8-0m',
  'geographx_nz_texture_shade_2012_8-0m',
  'gisborne_rural_2012-2013_0-40m_RGBA',
  'gisborne_rural_2017-2019_0-3m_RGB',
  'gisborne_urban_2017-18_0-1m',
  'hamilton_urban_2016-17_0-1m',
  'hamilton_urban_2019_0-1m',
  'hastings-district_urban_2014-2015_0-10m_RGB',
  'hastings-district_urban_2017-18_0-1m',
  'hawkes-bay_rural_2014-2015_0-30m_RGBA',
  'hawkes-bay_rural_2019-2020_0-3m_RGB',
  'hurunui_urban_2013_0-125m_RGBA',
  'hurunui_urban_2018-2019_0-075m_RGB',
  'hutt-city_urban_2017_0-10m',
  'hutt-city_urban_2021_0-075m_RGB',
  'invercargill_urban_2016_0-05m',
  'invercargill_urban_2016_0-1m',
  'kaikoura-post-earthquake_rural_2016-17_0-3m',
  'kapiti-coast_urban_2021_0-075m_RGB',
  'kermadec-islands_satellite_2020-2021_0-5m_RGB',
  'mackenzie_urban_2020_0-075m_RGB',
  'manawatu-whanganui_rural_2015-16_0-3m',
  'manawatu-whanganui_rural_2016-17_0-3m',
  'manawatu_urban_2019_0-125m',
  'marlborough_rural_2011-2012_0-40m_RGBA',
  'marlborough_rural_2015-2016_0-20m_RGBA',
  'marlborough_rural_2017-18_0-3m',
  'marlborough_urban_2017-18_0-1m',
  'marlborough_urban_2020-2021_0-1m_RGB',
  'masterton_urban_2021_0-075m_RGB',
  'napier-city_urban_2017-18_0-05m',
  'napier-city_urban_2017-18_0-1m',
  'nelson_rural_2018-19_0-3m',
  'new-plymouth_urban_2017_0-10m',
  'northland_rural_2014-16_0-4m',
  'northland_urban_2014-2015_0-10m_RGBA',
  'northland_urban_2016_0-1m_RGB',
  'nz-nearshore-islands_satellite_2010-2021_0-5m_RGB',
  'nz_satellite_2020-2021_10m_RGB',
  'nz_satellite_2021-2022_10m_RGB',
  'otago_rural_2013-2014_0-40m_RGBA',
  'otago_rural_2017-2019_0-30m_RGB',
  'otago_rural_2019-2021_0-3m_RGB',
  'otago_urban_2018_0-1m',
  'palmerston-north-city_urban_2014-15_0-125m',
  'palmerston-north_urban_2016-17_1-125m',
  'palmerston-north_urban_2018-2019_0-125m_RGB',
  'porirua_urban_2016_0-075m',
  'porirua_urban_2020_0-10m_RGB',
  'rangitikei_urban_2021_0-125m_RGB',
  'selwyn_urban_2012-2013_0-125m_RGBA',
  'selwyn_urban_2018-2019_0-075m_RGB',
  'selwyn_urban_2019_0-075m_RGB',
  'selwyn_urban_2020-2021_0-075m_RGB',
  'snares-islands-tini-heke_satellite_2019-2020_0-5m_RGB',
  'south-wairarapa_urban_2021_0-075m',
  'southland-central-otago_rural_2013-2014_0-40m_RGBA',
  'southland-central-otago_rural_2015-2017_0-40m_RGB',
  'southland_rural_2005-2011_0-75m_RGBA',
  'taranaki_rural_2016-17_0-3m',
  'tasman_rural_2001-2002_1m_RGB',
  'tasman_rural_2004-2005_1m_RGB',
  'tasman_rural_2009-2010_0-50m_RGBA',
  'tasman_rural_2015-16_0-3m',
  'tasman_rural_2016-17_0-3m',
  'tasman_rural_2018-19_0-3m',
  'tasman_rural_2020_0-3m_RGB',
  'tasman_rural_2022_0-3m_RGB',
  'tasman_urban_2017_0-075m',
  'tasman_urban_2017_0-1m',
  'tasman_urban_2020-2021_0-075m_RGB',
  'tasman_urban_2020_0-1m_RGB',
  'tauranga_urban_2017_0-1m',
  'thames-coromandel_urban_2015_0-05m',
  'timaru_urban_2012-2013_0-075m_RGBA',
  'timaru_urban_2020_0-075m_RGB',
  'upper-hutt_urban_2017_0-10m',
  'upper-hutt_urban_2021_0-075m_RGB',
  'waikato_rural_2012-2013_0-50m_RGBA',
  'waikato_rural_2017-19_0-3m',
  'waikato_urban_2014_0-10m_RGBA',
  'waimakariri_urban_2013-2014_0-075m_RGBA',
  'waimakariri_urban_2015-2016_0-075m_RGBA',
  'waimakariri_urban_2021_0-05m_RGB',
  'waimate_urban_2018_0-075m_RGB',
  'waimate_urban_2020_0-075m_RGB',
  'waipa_urban_2021_0-1m_RGB',
  'wairoa_urban_2014-2015_0-10m_RGBA',
  'waitaki_urban_2020-2021_0-075m_RGB',
  'wellington-city_urban_2021_0-075m_RGB',
  'wellington_rural_2021_0-3m_RGB',
  'wellington_urban_2017_0-10m',
  'west-coast_rural_2015-16_0-3m',
  'west-coast_rural_2016-17_0-3m',
  'whanganui_urban_2015-16_0-1m',
  'whanganui_urban_2017-18_0-075m',
  'ōtorohanga_urban_2021_0-1m_RGB',
];

o.spec('standardizeLayerName', () => {
  o('should remove _RGB and _RGBA', () => {
    o(standardizeLayerName('ōtorohanga_urban_2021_0-1m_RGB')).equals('ōtorohanga-urban-2021-0.1m');
    o(standardizeLayerName('waimakariri_urban_2013-2014_0-075m_RGBA')).equals('waimakariri-urban-2013-2014-0.075m');
  });

  o('should fix the gsd', () => {
    o(standardizeLayerName('nz_satellite_2020-2021_10m_RGB')).equals('nz-satellite-2020-2021-10m');
    o(standardizeLayerName('nz_satellite_2020-2021_0-10m_RGB')).equals('nz-satellite-2020-2021-0.10m');
  });
  o('should convert into full years', () => {
    o(standardizeLayerName('northland_rural_2014-16_0-4m')).equals('northland-rural-2014-2016-0.4m');
  });

  o('should not have name collisions', () => {
    const layerNames = new Set(layers);
    const afterNames = new Set(layers.map((c) => standardizeLayerName(c)));
    o(layerNames.size).equals(afterNames.size);
  });
});
